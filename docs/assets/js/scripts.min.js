"use strict";!function(d){d.fn.swipe=function(e){var s=d.extend({cb:function(){console.log("swipe done")}},e);return this.each(function(){var n=d(this),i=0,t=0,o=!1,a=n.find(".slider"),c=n.find(".text");a.on("mousedown touchstart",function(e){o=!0,t=n.width()-d(this).width()+10,i=e.clientX||e.originalEvent.touches[0].pageX}),d(document.body,a).on("mouseup touchend",function(e){if(o){if(o=!1,(e.clientX||e.changedTouches[0].pageX)-i<t)return c.fadeTo(300,1),void a.animate({left:"-10px"},300);s.cb()}}),d(document.body).on("mousemove touchmove",function(e){var n;o&&(e=1-(n=(e.clientX||e.originalEvent.touches[0].pageX)-i)/t,c.fadeTo(0,e),n<=0?a.css({left:"-10px"}):t+10<=n?a.css({left:t+"px"}):a.css({left:n-10}))})})}}(jQuery);var request={auth:function(e,n){var i={Authorization:"Basic "+btoa("18h8vanvrh4pui1lrntc1niljf:1ge31bhjrdk9d0ja14mft8qepi4clkt805jqb2svqvmb4so1v4g7"),"Content-Type":"application/x-www-form-urlencoded",Cookie:"XSRF-TOKEN=b4a54f1b-afe5-4aee-9a76-00f920418b6e"};request.send("https://omm6oug5pg.execute-api.us-east-1.amazonaws.com/desarrollo/oauth2/v1/token","POST","grant_type=client_credentials",i,e,n)},movieById:function(e,n,i){setTimeout(function(){n({datosFlujo:{idPelicula:"46657",nombrePelicula:"La piel fría",imagenPelicula:"https://imgn.cdn.iutpcdn.com/IMGS/VOD/COVER/345354-8c.jpg",numeroCuentaClienteCifradoRsa:"rMyLCzUViflVuvkBULKhMt4sHM9+ixFvcTLt3Rq4LHmntKNgBZ/TU5Kt8gcJekwNnz7MXDFh3pmr\nncU/laB97th/xNK3+G5J6crzCEG69p/JiS+vyzHhEMtSMugoW1YSjrvcTc4YJwBmpAZZSmmQmVYJ\n/p+NBzMgAGuuHUw7ITYdfht2m50+ND9Lk8cZ92l99DDFbPpswdlpwkoow/U2+SkQ44d4bFahE0FF\nLjHzdguYtxz4zd96e2VPQbCf7t0KojbM8bGcZfg/Q6mg3fMCADwAGdIT7zCkbj/Ah8mzQks4Q3ef\nXNKZyfPP+3tfBgFv8LmFYedURrjLMREa8aHYiA==\n",numeroCuentaClienteCadenaBaz:"baz***7890",botonPago:{section:"mi_diversion",flow:"mis_peliculas",amount:"55",commission:0,concept:"Cargo por renta de película",idCompany:"TP00000002",idOperacionConciliacion:"CP88kT1AmvzTNlgnU_LsPA",idReferencePay:"01010000004665720217890",iva:0,quantity:1,requireBill:!0,shippingAmount:"55"},compras:{calidadPelicula:"HD",montoCifrado:"1dfFtRHJAn3KJVyd8mONj8ceUhElp_2XtPn3u_P5y4o",numeroReferenciaCifradoAlnova:"zlDFxBKbYaEbPmpokRzzOE0SxZmrZD4HqKRvMOsYK3I",numeroCuentaClienteCifradoAlnova:"WBVXHjx09gkRlUkPvZ9AF8sGlY5nILZ2bZmt6CvUU2c",fechaOperacion:"",numeroMovimiento:"",peliculaGratuita:!1}},headers:{"x-sicu":"a46a165f2a4746e7abcc4de915c6000d","x-id-interaccion":"6ec6ee06-9325-4f1f-b26e-22c74cc5c52f","x-token-usuario":"298a640a78e56520834cee087590c89f","x-token-auth-bearer":"eyJraWQiOiJkczdRNlBTbE9ZNStuMnJjXC9PdjJqTGp5eWZRS2VJdmFjRXcwWHlNQm80cz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyNnQ0OWQ1djhrYTZhcTlvZnFiajQyNWU5ZiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiVXN1YXJpb1wvZGVsZXRlIFVzdWFyaW9cL3JlYWQgVXN1YXJpb1wvdXBkYXRlIiwiYXV0aF90aW1lIjoxNjMyNTA1NDg3LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9FaEZuSU9JRzAiLCJleHAiOjE2MzI1MDkwODcsImlhdCI6MTYzMjUwNTQ4NywidmVyc2lvbiI6MiwianRpIjoiNzdmZjY3ZTYtMGEzNy00ZWY3LWFkOWItZDdlYjMwMzcxM2E1IiwiY2xpZW50X2lkIjoiMjZ0NDlkNXY4a2E2YXE5b2ZxYmo0MjVlOWYifQ.fBLBEAox1b0e9JyY3nOazoxi-SBdrwaLjCsG0q4nO_P8bm2l5hgJIMTUIgZvJ9rqe6NTOTr-NDPw6GVNqDx5M5cmzxoextfyg6BObKivlhJwTLCfUq7W1ylvgHdA6rU6n0azb0YwuBXjPKfkNDZ1a2I1WihrrZnkU5olvSV9H9d_8_o6zT2P1Y5BktrMSa1TUa6bUibKkPTeFBBqZG-84sZkac66XGyowBYqtRdviQYJihPJcvLFWc4BadXIF8pKTAEzI1SJZxctapxctd95n0NVU027cs_W6jWw-uKeD6voXfH2jPpIZyVaQVPmw0zuN5aBmqdCOzjygiy4JPAAeA"},idFlujo:"RENTA_PELICULA"})},1e3)},pay:function(e,n,i,t,o){i=i?"https://api.bazappgs.com/superapp/pagos/captacion/traspasos/v1/boton-pago":"https://apigateway.superappbaz.com/integracion/superapp/pagos/captacion/traspasos/v1/boton-pago",n=JSON.stringify(n);request.send(i,"POST",n,e,t,o)},send:function(e,n,i,t,o,a){$.ajax({url:e,method:n,contentType:"application/json",processData:!1,headers:t,data:i,success:o,error:a})}};function bind(t){$("[data-id]").each(function(){var e=$(this),n=e.data("id"),i=t[n];"precio"===n?e.html(formatAmount(i)):"saldo"===n?"false"===i&&setTimeout(function(){showAdvice(e,!0)},500):e.html(i)})}function bindFromStr(e){try{bind(JSON.parse(e))}catch(e){console.log(e)}}function changeScreen(e,n){$(".screen").addClass("no-visible"),e.removeClass("no-visible"),n()}function formatAmount(e){return"$ "+Number(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}function handleDigitKeyup(e){var n=e.target,i=e.keyCode,t=$(n.parentNode);8===i?0<t.prev().length&&((e=t.prev().find("input")).val(""),e.focus()):47<i&&i<58&&""!==n.value&&0<t.next().length&&t.next().find("input").focus(),validateCode()}function numberFilter(e){/^\d{0,1}$/.test(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}function fakeRequest(e,n){setTimeout(function(){n("000001"===e)},1500)}function payMovie(e){}function searchToJson(){for(var e,n=location.search.substring(1).split("&"),i={},t=0;t<n.length;t++)""!==n[t]&&(e=n[t].split("="),i[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return i}function showAdvice(e,n){n?e.addClass("no-visible"):e.removeClass("no-visible")}function showLoader(e){var n=$(".loader");e?(n.length<=0&&(n=$('<div class="loader">')),$("body").append(n),setTimeout(function(){return n.addClass("loader-visible")},10)):(n.removeClass("loader-visible"),setTimeout(function(){return n.remove()},375))}function validateCode(){var n=$(".auth-screen .code"),i=$(".auth-screen .digit input"),e="";i.each(function(){e+=this.value}),6===e.length?(showLoader(!0),fakeRequest(e,function(e){e?(n.addClass("valid"),changeScreen($(".resume-screen"),function(){showLoader(!1)})):(showLoader(!1),n.addClass("invalid"),setTimeout(function(){i.each(function(){$(this).val("")}),i.eq(0).focus()},100))})):n.removeClass("valid invalid")}var searchJson=searchToJson();showLoader(!0),request.movieById(searchJson.idOperacion,function(t){changeScreen($(".detail-screen"),function(){var e=t.datosFlujo,n=e.nombrePelicula,i=e.numeroCuentaClienteCadenaBaz,e=e.botonPago.amount;$(".detail-screen").find('[data-id="nombre"]').text(n),$(".detail-screen").find('[data-id="precio"]').text(formatAmount(e)),$(".detail-screen").find('[data-id="tarjeta"]').text(i),showLoader(!1)})},function(){});var $advices=$(".advice.fixed");$advices.each(function(){var e=$(this);e.find(".close-btn").on("click",function(){showAdvice(e,!1)})}),$(".detail-screen .swipe-btn").swipe({cb:function(){showLoader(!0),setTimeout(function(){console.log("scripts.js: Open digital sign")},500)}});var $digits=$(".auth-screen .digit input");$digits.on("keypress keydown keyup input change paste",numberFilter),$digits.on("keyup",handleDigitKeyup),$digits.eq(0).focus(),$(".screen header .close-btn").on("click",function(){console.log("scripts.js: Closing WebView")}),$(".share-btn").on("click",function(){console.log("scripts.js: Sharing ticket")}),$(".movie-btn").on("click",function(){console.log("scripts.js: Play movie")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5zd2lwZS5qcyIsInJlcXVlc3QuanMiLCJzY3JpcHRzLmpzIl0sIm5hbWVzIjpbIiQiLCJmbiIsInN3aXBlIiwib3B0aW9ucyIsInNldHRpbmdzIiwiZXh0ZW5kIiwiY2IiLCJjb25zb2xlIiwibG9nIiwidGhpcyIsImVhY2giLCIkdGhpcyIsImluaXRpYWxNb3VzZSIsInNsaWRlTW92ZW1lbnRUb3RhbCIsIm1vdXNlSXNEb3duIiwiJHNsaWRlciIsImZpbmQiLCIkdGV4dCIsIm9uIiwiZXZlbnQiLCJ3aWR0aCIsImNsaWVudFgiLCJvcmlnaW5hbEV2ZW50IiwidG91Y2hlcyIsInBhZ2VYIiwiZG9jdW1lbnQiLCJib2R5IiwiY2hhbmdlZFRvdWNoZXMiLCJmYWRlVG8iLCJhbmltYXRlIiwibGVmdCIsInJlbGF0aXZlTW91c2UiLCJzbGlkZVBlcmNlbnQiLCJjc3MiLCJqUXVlcnkiLCJyZXF1ZXN0IiwiYXV0aCIsInN1Y2Nlc3MiLCJlcnJvciIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYnRvYSIsIkNvbnRlbnQtVHlwZSIsIkNvb2tpZSIsInNlbmQiLCJtb3ZpZUJ5SWQiLCJpZE9wZXJhdGlvbiIsInNldFRpbWVvdXQiLCJkYXRvc0ZsdWpvIiwiaWRQZWxpY3VsYSIsIm5vbWJyZVBlbGljdWxhIiwiaW1hZ2VuUGVsaWN1bGEiLCJudW1lcm9DdWVudGFDbGllbnRlQ2lmcmFkb1JzYSIsIm51bWVyb0N1ZW50YUNsaWVudGVDYWRlbmFCYXoiLCJib3RvblBhZ28iLCJzZWN0aW9uIiwiZmxvdyIsImFtb3VudCIsImNvbW1pc3Npb24iLCJjb25jZXB0IiwiaWRDb21wYW55IiwiaWRPcGVyYWNpb25Db25jaWxpYWNpb24iLCJpZFJlZmVyZW5jZVBheSIsIml2YSIsInF1YW50aXR5IiwicmVxdWlyZUJpbGwiLCJzaGlwcGluZ0Ftb3VudCIsImNvbXByYXMiLCJjYWxpZGFkUGVsaWN1bGEiLCJtb250b0NpZnJhZG8iLCJudW1lcm9SZWZlcmVuY2lhQ2lmcmFkb0Fsbm92YSIsIm51bWVyb0N1ZW50YUNsaWVudGVDaWZyYWRvQWxub3ZhIiwiZmVjaGFPcGVyYWNpb24iLCJudW1lcm9Nb3ZpbWllbnRvIiwicGVsaWN1bGFHcmF0dWl0YSIsIngtc2ljdSIsIngtaWQtaW50ZXJhY2Npb24iLCJ4LXRva2VuLXVzdWFyaW8iLCJ4LXRva2VuLWF1dGgtYmVhcmVyIiwiaWRGbHVqbyIsInBheSIsInByb2R1Y3Rpb24iLCJ1cmwiLCJyYXciLCJKU09OIiwic3RyaW5naWZ5IiwibWV0aG9kIiwianNvbkhlYWRlcnMiLCJhamF4IiwiY29udGVudFR5cGUiLCJwcm9jZXNzRGF0YSIsImRhdGEiLCJiaW5kIiwidmFsdWVzIiwiJHRhZyIsImlkIiwidmFsdWUiLCJodG1sIiwiZm9ybWF0QW1vdW50Iiwic2hvd0FkdmljZSIsImJpbmRGcm9tU3RyIiwic3RySnNvbiIsInBhcnNlIiwiZXJyIiwiY2hhbmdlU2NyZWVuIiwiJHNjcmVlbiIsImNhbGxiYWNrIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIk51bWJlciIsInRvRml4ZWQiLCJyZXBsYWNlIiwiaGFuZGxlRGlnaXRLZXl1cCIsIl9yZWYiLCJ0YXJnZXQiLCJrZXlDb2RlIiwiJHBhcmVudCIsInBhcmVudE5vZGUiLCJwcmV2IiwibGVuZ3RoIiwiJGlucHV0IiwidmFsIiwiZm9jdXMiLCJuZXh0IiwidmFsaWRhdGVDb2RlIiwibnVtYmVyRmlsdGVyIiwidGVzdCIsIm9sZFZhbHVlIiwib2xkU2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25TdGFydCIsIm9sZFNlbGVjdGlvbkVuZCIsInNlbGVjdGlvbkVuZCIsImhhc093blByb3BlcnR5Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJmYWtlUmVxdWVzdCIsImNvZGUiLCJwYXlNb3ZpZSIsInNlYXJjaFRvSnNvbiIsInBhcnRzIiwicGFpcnMiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsInNwbGl0Iiwib2JqZWN0IiwiaSIsImRlY29kZVVSSUNvbXBvbmVudCIsIiRlbCIsImZsYWciLCJzaG93TG9hZGVyIiwic2hvdyIsIiRsb2FkZXIiLCJhcHBlbmQiLCJyZW1vdmUiLCIkY29kZSIsIiRkaWdpdHMiLCJlcSIsInNlYXJjaEpzb24iLCJfZGF0YSRkYXRvc0ZsdWpvIiwidGV4dCIsIiRhZHZpY2VzIiwiJGFkdmljZSJdLCJtYXBwaW5ncyI6ImNBRUEsU0FBQUEsR0FDQUEsRUFBQUMsR0FBQUMsTUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFKLEVBQUFLLE9BQUEsQ0FDQUMsR0FBQSxXQUNBQyxRQUFBQyxJQUFBLGdCQUVBTCxHQUVBLE9BQUFNLEtBQUFDLEtBQUEsV0FDQSxJQUFBQyxFQUFBWCxFQUFBUyxNQUNBRyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsR0FBQSxFQUNBQyxFQUFBSixFQUFBSyxLQUFBLFdBQ0FDLEVBQUFOLEVBQUFLLEtBQUEsU0FFQUQsRUFBQUcsR0FBQSx1QkFBQSxTQUFBQyxHQUNBTCxHQUFBLEVBQ0FELEVBQUFGLEVBQUFTLFFBQUFwQixFQUFBUyxNQUFBVyxRQUFBLEdBQ0FSLEVBQUFPLEVBQUFFLFNBQUFGLEVBQUFHLGNBQUFDLFFBQUEsR0FBQUMsUUFHQXhCLEVBQUF5QixTQUFBQyxLQUFBWCxHQUFBRyxHQUFBLG1CQUFBLFNBQUFDLEdBQ0EsR0FBQUwsRUFBQSxDQU1BLEdBSkFBLEdBQUEsR0FDQUssRUFBQUUsU0FBQUYsRUFBQVEsZUFBQSxHQUFBSCxPQUNBWixFQUVBQyxFQUtBLE9BSkFJLEVBQUFXLE9BQUEsSUFBQSxRQUNBYixFQUFBYyxRQUFBLENBQ0FDLEtBQUEsU0FDQSxLQWdCQTFCLEVBQUFFLFFBSUFOLEVBQUF5QixTQUFBQyxNQUFBUixHQUFBLHNCQUFBLFNBQUFDLEdBQ0EsSUFJQVksRUFKQWpCLElBS0FrQixFQUFBLEdBREFELEdBREFaLEVBQUFFLFNBQUFGLEVBQUFHLGNBQUFDLFFBQUEsR0FBQUMsT0FDQVosR0FDQUMsRUFFQUksRUFBQVcsT0FBQSxFQUFBSSxHQUVBRCxHQUFBLEVBQ0FoQixFQUFBa0IsSUFB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QSxjQUFBa0IsR0FBQSxRQUFBLFdBQ0FYLFFBQUFDLElBQUEsZ0NBTUFSLEVBQUEsY0FBQWtCLEdBQUEsUUFBQSxXQUNBWCxRQUFBQyxJQUFBIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gUmVmZXJlbmNlOiBodHRwczovL2NvZGVwZW4uaW8vZ3ByZXNzdXR0bzUvcGVuL05qSm9iRz9lZGl0b3JzPTAwMTBcblxuKGZ1bmN0aW9uICgkKSB7XG4gICAgJC5mbi5zd2lwZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHtcbiAgICAgICAgICAgIGNiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3dpcGUgZG9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgaW5pdGlhbE1vdXNlID0gMDtcbiAgICAgICAgICAgIHZhciBzbGlkZU1vdmVtZW50VG90YWwgPSAwO1xuICAgICAgICAgICAgdmFyIG1vdXNlSXNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgJHNsaWRlciA9ICR0aGlzLmZpbmQoJy5zbGlkZXInKTtcbiAgICAgICAgICAgIHZhciAkdGV4dCA9ICR0aGlzLmZpbmQoJy50ZXh0Jyk7XG5cbiAgICAgICAgICAgICRzbGlkZXIub24oJ21vdXNlZG93biB0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgbW91c2VJc0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNsaWRlTW92ZW1lbnRUb3RhbCA9ICR0aGlzLndpZHRoKCkgLSAkKHRoaXMpLndpZHRoKCkgKyAxMDtcbiAgICAgICAgICAgICAgICBpbml0aWFsTW91c2UgPSBldmVudC5jbGllbnRYIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKGRvY3VtZW50LmJvZHksICRzbGlkZXIpLm9uKCdtb3VzZXVwIHRvdWNoZW5kJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtb3VzZUlzRG93bilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIG1vdXNlSXNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNb3VzZSA9IGV2ZW50LmNsaWVudFggfHwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0aXZlTW91c2UgPSBjdXJyZW50TW91c2UgLSBpbml0aWFsTW91c2U7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVNb3VzZSA8IHNsaWRlTW92ZW1lbnRUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAkdGV4dC5mYWRlVG8oMzAwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgJHNsaWRlci5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiLTEwcHhcIlxuICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyogJHNsaWRlci5hZGRDbGFzcygndW5sb2NrZWQnKTtcbiAgICAgICAgICAgICAgICAkKCcjbG9ja2VyJykudGV4dCgnbG9ja19vdXRsaW5lJyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzbGlkZXIub24oJ2NsaWNrIHRhcCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2xpZGVyLmhhc0NsYXNzKCd1bmxvY2tlZCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzbGlkZXIucmVtb3ZlQ2xhc3MoJ3VubG9ja2VkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjbG9ja2VyJykudGV4dCgnbG9ja19vcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2xpZGVyLm9mZignY2xpY2sgdGFwJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIDApOyAqL1xuXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuY2IoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCdtb3VzZW1vdmUgdG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtb3VzZUlzRG93bilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNb3VzZSA9IGV2ZW50LmNsaWVudFggfHwgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGl2ZU1vdXNlID0gY3VycmVudE1vdXNlIC0gaW5pdGlhbE1vdXNlO1xuICAgICAgICAgICAgICAgIHZhciBzbGlkZVBlcmNlbnQgPSAxIC0gKHJlbGF0aXZlTW91c2UgLyBzbGlkZU1vdmVtZW50VG90YWwpO1xuXG4gICAgICAgICAgICAgICAgJHRleHQuZmFkZVRvKDAsIHNsaWRlUGVyY2VudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVNb3VzZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRzbGlkZXIuY3NzKHsgJ2xlZnQnOiAnLTEwcHgnIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZU1vdXNlID49IHNsaWRlTW92ZW1lbnRUb3RhbCArIDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICRzbGlkZXIuY3NzKHsgJ2xlZnQnOiBzbGlkZU1vdmVtZW50VG90YWwgKyAncHgnIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzbGlkZXIuY3NzKHsgJ2xlZnQnOiByZWxhdGl2ZU1vdXNlIC0gMTAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoalF1ZXJ5KTtcbiIsImNvbnN0IHJlcXVlc3QgPSB7XG4gICAgLyoqXG4gICAgICogQXV0aGVudGljYXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3NcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvclxuICAgICAqL1xuICAgIGF1dGg6IGZ1bmN0aW9uIChzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICBjb25zdCB1cmwgPSBcImh0dHBzOi8vb21tNm91ZzVwZy5leGVjdXRlLWFwaS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS9kZXNhcnJvbGxvL29hdXRoMi92MS90b2tlblwiO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmFzaWMgXCIgKyBidG9hKFwiMThoOHZhbnZyaDRwdWkxbHJudGMxbmlsamZcIiArIFwiOlwiICsgXCIxZ2UzMWJoanJkazlkMGphMTRtZnQ4cWVwaTRjbGt0ODA1anFiMnN2cXZtYjRzbzF2NGc3XCIpLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgICAgICAgICAgIFwiQ29va2llXCI6IFwiWFNSRi1UT0tFTj1iNGE1NGYxYi1hZmU1LTRhZWUtOWE3Ni0wMGY5MjA0MThiNmVcIlxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBib2R5ID0gXCJncmFudF90eXBlPWNsaWVudF9jcmVkZW50aWFsc1wiO1xuXG4gICAgICAgIHJlcXVlc3Quc2VuZCh1cmwsICdQT1NUJywgYm9keSwgaGVhZGVycywgc3VjY2VzcywgZXJyb3IpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgbW92aWUgYnkgaWQgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZE9wZXJhdGlvbiBcbiAgICAgKi9cbiAgICBtb3ZpZUJ5SWQ6IGZ1bmN0aW9uKGlkT3BlcmF0aW9uLCBzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICAvKiBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGlnYXRld2F5LnN1cGVyYXBwYmF6LmNvbS9pbnRlZ3JhY2lvbi9zdXBlcmFwcC9jYW5hbC9jbGllbnRlcy9nZXN0aW9uLXNlc2lvbmVzL3YxL3BvcnRhbC9vcGVyYWNpb25lcy8nICsgaWRPcGVyYXRpb247XG4gICAgICAgIHJlcXVlc3Quc2VuZCh1cmwsICdHRVQnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICd4LXNpY3UnOiAnM2JhZDEyOTBhYzQ2MDBhNTY5MTYyZWZhYTA5MTE3ZWEnLFxuICAgICAgICAgICAgJ3gtaWQtaW50ZXJhY2Npb24nOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjU1NDQwMDAwJyxcbiAgICAgICAgICAgICd4LXRva2VuLXVzdWFyaW8nOiAnU1JmVlpyVFl2ZG03bXp6Wm1jdWlEVmlBQ2tBeCdcbiAgICAgICAgfSwgc3VjY2VzcywgZXJyb3IpOyAqL1xuICAgICAgICBcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3Moe1xuICAgICAgICAgICAgICAgIFwiZGF0b3NGbHVqb1wiOiB7XG4gICAgICAgICAgICAgICAgICAgXCJpZFBlbGljdWxhXCI6IFwiNDY2NTdcIixcbiAgICAgICAgICAgICAgICAgICBcIm5vbWJyZVBlbGljdWxhXCI6IFwiTGEgcGllbCBmcsOtYVwiLFxuICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VuUGVsaWN1bGFcIjogXCJodHRwczovL2ltZ24uY2RuLml1dHBjZG4uY29tL0lNR1MvVk9EL0NPVkVSLzM0NTM1NC04Yy5qcGdcIixcbiAgICAgICAgICAgICAgICAgICBcIm51bWVyb0N1ZW50YUNsaWVudGVDaWZyYWRvUnNhXCI6IFwick15TEN6VVZpZmxWdXZrQlVMS2hNdDRzSE05K2l4RnZjVEx0M1JxNExIbW50S05nQlovVFU1S3Q4Z2NKZWt3Tm56N01YREZoM3Btclxcbm5jVS9sYUI5N3RoL3hOSzMrRzVKNmNyekNFRzY5cC9KaVMrdnl6SGhFTXRTTXVnb1cxWVNqcnZjVGM0WUp3Qm1wQVpaU21tUW1WWUpcXG4vcCtOQnpNZ0FHdXVIVXc3SVRZZGZodDJtNTArTkQ5TGs4Y1o5Mmw5OURERmJQcHN3ZGxwd2tvb3cvVTIrU2tRNDRkNGJGYWhFMEZGXFxuTGpIemRndVl0eHo0emQ5NmUyVlBRYkNmN3QwS29qYk04YkdjWmZnL1E2bWczZk1DQUR3QUdkSVQ3ekNrYmovQWg4bXpRa3M0UTNlZlxcblhOS1p5ZlBQKzN0ZkJnRnY4TG1GWWVkVVJyakxNUkVhOGFIWWlBPT1cXG5cIixcbiAgICAgICAgICAgICAgICAgICBcIm51bWVyb0N1ZW50YUNsaWVudGVDYWRlbmFCYXpcIjogXCJiYXoqKio3ODkwXCIsXG4gICAgICAgICAgICAgICAgICAgXCJib3RvblBhZ29cIjoge1xuICAgICAgICAgICAgICAgICAgICAgIFwic2VjdGlvblwiOiBcIm1pX2RpdmVyc2lvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZmxvd1wiOiBcIm1pc19wZWxpY3VsYXNcIixcbiAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiBcIjU1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJjb21taXNzaW9uXCI6IDAuMCxcbiAgICAgICAgICAgICAgICAgICAgICBcImNvbmNlcHRcIjogXCJDYXJnbyBwb3IgcmVudGEgZGUgcGVsw61jdWxhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJpZENvbXBhbnlcIjogXCJUUDAwMDAwMDAyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJpZE9wZXJhY2lvbkNvbmNpbGlhY2lvblwiOiBcIkNQODhrVDFBbXZ6VE5sZ25VX0xzUEFcIixcbiAgICAgICAgICAgICAgICAgICAgICBcImlkUmVmZXJlbmNlUGF5XCI6IFwiMDEwMTAwMDAwMDQ2NjU3MjAyMTc4OTBcIixcbiAgICAgICAgICAgICAgICAgICAgICBcIml2YVwiOiAwLjAsXG4gICAgICAgICAgICAgICAgICAgICAgXCJxdWFudGl0eVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZUJpbGxcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBcInNoaXBwaW5nQW1vdW50XCI6IFwiNTVcIlxuICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgXCJjb21wcmFzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImNhbGlkYWRQZWxpY3VsYVwiOiBcIkhEXCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJtb250b0NpZnJhZG9cIjogXCIxZGZGdFJISkFuM0tKVnlkOG1PTmo4Y2VVaEVscF8yWHRQbjN1X1A1eTRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJudW1lcm9SZWZlcmVuY2lhQ2lmcmFkb0Fsbm92YVwiOiBcInpsREZ4QktiWWFFYlBtcG9rUnp6T0UwU3habXJaRDRIcUtSdk1Pc1lLM0lcIixcbiAgICAgICAgICAgICAgICAgICAgICBcIm51bWVyb0N1ZW50YUNsaWVudGVDaWZyYWRvQWxub3ZhXCI6IFwiV0JWWEhqeDA5Z2tSbFVrUHZaOUFGOHNHbFk1bklMWjJiWm10NkN2VVUyY1wiLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZmVjaGFPcGVyYWNpb25cIjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBcIm51bWVyb01vdmltaWVudG9cIjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICBcInBlbGljdWxhR3JhdHVpdGFcIjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImhlYWRlcnNcIjoge1xuICAgICAgICAgICAgICAgICAgIFwieC1zaWN1XCI6IFwiYTQ2YTE2NWYyYTQ3NDZlN2FiY2M0ZGU5MTVjNjAwMGRcIixcbiAgICAgICAgICAgICAgICAgICBcIngtaWQtaW50ZXJhY2Npb25cIjogXCI2ZWM2ZWUwNi05MzI1LTRmMWYtYjI2ZS0yMmM3NGNjNWM1MmZcIixcbiAgICAgICAgICAgICAgICAgICBcIngtdG9rZW4tdXN1YXJpb1wiOiBcIjI5OGE2NDBhNzhlNTY1MjA4MzRjZWUwODc1OTBjODlmXCIsXG4gICAgICAgICAgICAgICAgICAgXCJ4LXRva2VuLWF1dGgtYmVhcmVyXCI6IFwiZXlKcmFXUWlPaUprY3pkUk5sQlRiRTlaTlN0dU1uSmpYQzlQZGpKcVRHcDVlV1pSUzJWSmRtRmpSWGN3V0hsTlFtODBjejBpTENKaGJHY2lPaUpTVXpJMU5pSjkuZXlKemRXSWlPaUl5Tm5RME9XUTFkamhyWVRaaGNUbHZabkZpYWpReU5XVTVaaUlzSW5SdmEyVnVYM1Z6WlNJNkltRmpZMlZ6Y3lJc0luTmpiM0JsSWpvaVZYTjFZWEpwYjF3dlpHVnNaWFJsSUZWemRXRnlhVzljTDNKbFlXUWdWWE4xWVhKcGIxd3ZkWEJrWVhSbElpd2lZWFYwYUY5MGFXMWxJam94TmpNeU5UQTFORGczTENKcGMzTWlPaUpvZEhSd2N6cGNMMXd2WTI5bmJtbDBieTFwWkhBdWRYTXRaV0Z6ZEMweExtRnRZWHB2Ym1GM2N5NWpiMjFjTDNWekxXVmhjM1F0TVY5RmFFWnVTVTlKUnpBaUxDSmxlSEFpT2pFMk16STFNRGt3T0Rjc0ltbGhkQ0k2TVRZek1qVXdOVFE0Tnl3aWRtVnljMmx2YmlJNk1pd2lhblJwSWpvaU56ZG1aalkzWlRZdE1HRXpOeTAwWldZM0xXRmtPV0l0WkRkbFlqTXdNemN4TTJFMUlpd2lZMnhwWlc1MFgybGtJam9pTWpaME5EbGtOWFk0YTJFMllYRTViMlp4WW1vME1qVmxPV1lpZlEuZkJMQkVBb3gxYjBlOUp5WTNuT2F6b3hpLVNCZHJ3YUxqQ3NHMHE0bk9fUDhibTJsNWhnSklNVFVJZ1p2SjlycWU2TlRPVHItTkRQdzZHVk5xRHg1TTVjbXp4b2V4dGZ5ZzZCT2JLaXZsaEp3VExDZlVxN1cxeWx2Z0hkQTZyVTZuMGF6YjBZd3VCWGpQS2ZrTkRaMWEySTFXaWhyclpua1U1b2x2U1Y5SDlkXzhfbzZ6VDJQMVk1Qmt0ck1TYTFUVWE2YlVpYktrUFRlRkJCcVpHLTg0c1prYWM2NlhHeW93QllxdFJkdmlRWUppaFBKY3ZMRldjNEJhZFhJRjhwS1RBRXpJMVNKWnhjdGFweGN0ZDk1bjBOVlUwMjdjc19XNmpXdy11S2VENnZvWGZIMmpQcElaeVZhUVZQbXcwenVONWFCbXFkQ096anlnaXk0SlBBQWVBXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiaWRGbHVqb1wiOiBcIlJFTlRBX1BFTElDVUxBXCJcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gaGVhZGVyc1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBib2R5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBwcm9kdWN0aW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2Vzc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yXG4gICAgICovXG4gICAgcGF5OiBmdW5jdGlvbiAoaGVhZGVycywgYm9keSwgcHJvZHVjdGlvbiwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgY29uc3QgdXJsID0gcHJvZHVjdGlvbiBcbiAgICAgICAgICAgID8gXCJodHRwczovL2FwaS5iYXphcHBncy5jb20vc3VwZXJhcHAvcGFnb3MvY2FwdGFjaW9uL3RyYXNwYXNvcy92MS9ib3Rvbi1wYWdvXCJcbiAgICAgICAgICAgIC8vID8gXCJodHRwczovL2FwaS5iYXouYXBwL3N1cGVyYXBwL3BhZ29zL2NhcHRhY2lvbi90cmFzcGFzb3MvdjEvYm90b24tcGFnb1wiXG4gICAgICAgICAgICA6IFwiaHR0cHM6Ly9hcGlnYXRld2F5LnN1cGVyYXBwYmF6LmNvbS9pbnRlZ3JhY2lvbi9zdXBlcmFwcC9wYWdvcy9jYXB0YWNpb24vdHJhc3Bhc29zL3YxL2JvdG9uLXBhZ29cIjtcbiAgICAgICAgICAgIC8vIDogXCJodHRwOi8vMTI3LjAuMC4xOjMwMDBcIlxuICAgICAgICAgICAgXG4gICAgICAgIGNvbnN0IHJhdyA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuXG4gICAgICAgIHJlcXVlc3Quc2VuZCh1cmwsICdQT1NUJywgcmF3LCBoZWFkZXJzLCBzdWNjZXNzLCBlcnJvcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2UgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBqc29uSGVhZGVycyBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yXG4gICAgICovXG4gICAgc2VuZDogZnVuY3Rpb24gKHVybCwgbWV0aG9kLCBib2R5LCBqc29uSGVhZGVycywgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybCwgXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLCBcbiAgICAgICAgICAgIGhlYWRlcnM6IGpzb25IZWFkZXJzLCBcbiAgICAgICAgICAgIGRhdGE6IGJvZHksXG4gICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgfSk7XG4gICAgfVxufTsiLCIvKipcbiAqIEJpbmQgSlNPTiB0byBIVE1MLlxuICogQHBhcmFtIHtvYmplY3R9IHZhbHVlc1xuICovXG5mdW5jdGlvbiBiaW5kKHZhbHVlcykge1xuICAgIGNvbnN0ICR0YWdzID0gJCgnW2RhdGEtaWRdJyk7XG5cbiAgICAkdGFncy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgJHRhZyA9ICQodGhpcyk7XG4gICAgICAgIGNvbnN0IGlkID0gJHRhZy5kYXRhKCdpZCcpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpZF07XG5cbiAgICAgICAgaWYgKGlkID09PSAncHJlY2lvJykge1xuICAgICAgICAgICAgJHRhZy5odG1sKGZvcm1hdEFtb3VudCh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlkID09PSAnc2FsZG8nKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgc2hvd0FkdmljZSgkdGFnLCB0cnVlKTsgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICR0YWcuaHRtbCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBQYXJzZSBzdHJpbmcgdG8gb2JqZWN0IGFuZCB0aGVuIGJpbmQuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RySnNvbiBcbiAqL1xuZnVuY3Rpb24gYmluZEZyb21TdHIoc3RySnNvbikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHN0ckpzb24pO1xuICAgICAgICBiaW5kKGpzb24pO1xuICAgIH0gY2F0Y2ggKGVycikgeyBjb25zb2xlLmxvZyhlcnIpOyB9XG59XG5cbi8qKlxuICogQ2hhbmdlIHNjcmVlbi5cbiAqIEBwYXJhbSB7alF1ZXJ5fSAkc2NyZWVuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5mdW5jdGlvbiBjaGFuZ2VTY3JlZW4oJHNjcmVlbiwgY2FsbGJhY2spIHtcbiAgICAkKCcuc2NyZWVuJykuYWRkQ2xhc3MoJ25vLXZpc2libGUnKTtcbiAgICAkc2NyZWVuLnJlbW92ZUNsYXNzKCduby12aXNpYmxlJyk7XG5cbiAgICBjYWxsYmFjaygpO1xufVxuXG4vKipcbiAqIEdldCBhbW91bnQgd2l0aCBjdXJyZW5jeSBmb3JtYXQuXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZm9ybWF0QW1vdW50KGFtb3VudCkge1xuICAgIHJldHVybiAnJCAnICsgTnVtYmVyKGFtb3VudCkudG9GaXhlZCgyKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCAnLCcpO1xufVxuXG4vKipcbiAqIEhhbmRsZSBkaWdpdCBrZXl1cCBldmVudC5cbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAqL1xuZnVuY3Rpb24gaGFuZGxlRGlnaXRLZXl1cCh7IHRhcmdldCwga2V5Q29kZSB9KSB7XG4gICAgY29uc3QgJHBhcmVudCA9ICQodGFyZ2V0LnBhcmVudE5vZGUpO1xuXG4gICAgaWYgKGtleUNvZGUgPT09IDgpIHtcbiAgICAgICAgaWYgKCRwYXJlbnQucHJldigpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0ICRpbnB1dCA9ICRwYXJlbnQucHJldigpLmZpbmQoJ2lucHV0Jyk7XG5cbiAgICAgICAgICAgICRpbnB1dC52YWwoJycpO1xuICAgICAgICAgICAgJGlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA+IDQ3ICYmIGtleUNvZGUgPCA1OCkge1xuICAgICAgICBpZiAodGFyZ2V0LnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgaWYgKCRwYXJlbnQubmV4dCgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkaW5wdXQgPSAkcGFyZW50Lm5leHQoKS5maW5kKCdpbnB1dCcpO1xuICAgICAgICAgICAgICAgICRpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsaWRhdGVDb2RlKCk7XG59XG5cbi8qKlxuICogQXBwbHkgbnVtYmVyIGZpbHRlci5cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIG51bWJlckZpbHRlcihldmVudCkge1xuICAgIGNvbnN0IGZpbHRlciA9IC9eXFxkezAsMX0kLztcblxuICAgIGlmIChmaWx0ZXIudGVzdCh0aGlzLnZhbHVlKSkge1xuICAgICAgICB0aGlzLm9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdGhpcy5vbGRTZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgIHRoaXMub2xkU2VsZWN0aW9uRW5kID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdvbGRWYWx1ZScpKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLm9sZFZhbHVlO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvblJhbmdlKHRoaXMub2xkU2VsZWN0aW9uU3RhcnQsIHRoaXMub2xkU2VsZWN0aW9uRW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZhbHVlID0gJyc7XG4gICAgfVxufVxuXG4vKipcbiAqIERvIGZha2UgcmVxdWVzdC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIGZha2VSZXF1ZXN0KGNvZGUsIGNhbGxiYWNrKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGNvZGUgPT09ICcwMDAwMDEnKTtcbiAgICB9LCAxNTAwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RySnNvblxuICovXG5mdW5jdGlvbiBwYXlNb3ZpZShzdHJKc29uKSB7XG5cbn1cblxuLyoqXG4gKiBQYXJzZSBsb2NhdGlvbi5zZWFyY2ggdG8gSlNPTi5cbiAqIEByZXR1cm5zIG9iamVjdFxuICovXG5mdW5jdGlvbiBzZWFyY2hUb0pzb24oKSB7XG4gICAgY29uc3QgcGFpcnMgPSBsb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLnNwbGl0KCcmJyk7XG4gICAgY29uc3Qgb2JqZWN0ID0ge307XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgZm9yICg7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocGFpcnNbaV0gPT09ICcnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgb2JqZWN0W2RlY29kZVVSSUNvbXBvbmVudChwYXJ0c1swXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIFNob3cgb3IgaGlkZSBhZHZpY2UuXG4gKiBAcGFyYW0ge2pRdWVyeX0gJGVsIFxuICogQHBhcmFtIHtib29sZWFufSBmbGFnIFxuICovXG5mdW5jdGlvbiBzaG93QWR2aWNlKCRlbCwgZmxhZykge1xuICAgIGlmIChmbGFnKSB7XG4gICAgICAgICRlbC5hZGRDbGFzcygnbm8tdmlzaWJsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICRlbC5yZW1vdmVDbGFzcygnbm8tdmlzaWJsZScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBTaG93IG9yIGhpZGUgbG9hZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBzaG93XG4gKi9cbmZ1bmN0aW9uIHNob3dMb2FkZXIoc2hvdykge1xuICAgIGxldCAkbG9hZGVyID0gJCgnLmxvYWRlcicpO1xuXG4gICAgaWYgKHNob3cpIHtcbiAgICAgICAgaWYgKCRsb2FkZXIubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgICRsb2FkZXIgPSAkKCc8ZGl2IGNsYXNzPVwibG9hZGVyXCI+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRsb2FkZXIpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+ICRsb2FkZXIuYWRkQ2xhc3MoJ2xvYWRlci12aXNpYmxlJyksIDEwKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgICRsb2FkZXIucmVtb3ZlQ2xhc3MoJ2xvYWRlci12aXNpYmxlJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gJGxvYWRlci5yZW1vdmUoKSwgMzc1KTtcblxuICAgIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBjb2RlIGZyb20gY2xpZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQ29kZSgpIHtcbiAgICBjb25zdCAkY29kZSA9ICQoJy5hdXRoLXNjcmVlbiAuY29kZScpO1xuICAgIGNvbnN0ICRkaWdpdHMgPSAkKCcuYXV0aC1zY3JlZW4gLmRpZ2l0IGlucHV0Jyk7XG4gICAgbGV0IGNvZGUgPSBcIlwiO1xuXG4gICAgJGRpZ2l0cy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29kZSArPSB0aGlzLnZhbHVlO1xuICAgIH0pO1xuXG4gICAgaWYgKGNvZGUubGVuZ3RoID09PSA2KSB7XG4gICAgICAgIHNob3dMb2FkZXIodHJ1ZSk7XG5cbiAgICAgICAgZmFrZVJlcXVlc3QoY29kZSwgc3VjY2VzcyA9PiB7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICRjb2RlLmFkZENsYXNzKCd2YWxpZCcpO1xuXG4gICAgICAgICAgICAgICAgY2hhbmdlU2NyZWVuKCQoJy5yZXN1bWUtc2NyZWVuJyksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRlcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3dMb2FkZXIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICRjb2RlLmFkZENsYXNzKCdpbnZhbGlkJyk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJGRpZ2l0cy5lYWNoKGZ1bmN0aW9uICgpIHsgJCh0aGlzKS52YWwoJycpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgJGRpZ2l0cy5lcSgwKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICRjb2RlLnJlbW92ZUNsYXNzKCd2YWxpZCBpbnZhbGlkJyk7XG4gICAgfVxufVxuXG5cbi8vIEluaXRpYWxpemUgRGV0YWlsIFNjcmVlbiBjb21wb25lbnRzLlxuY29uc3Qgc2VhcmNoSnNvbiA9IHNlYXJjaFRvSnNvbigpO1xuXG5zaG93TG9hZGVyKHRydWUpO1xucmVxdWVzdC5tb3ZpZUJ5SWQoc2VhcmNoSnNvblsnaWRPcGVyYWNpb24nXSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBjaGFuZ2VTY3JlZW4oJCgnLmRldGFpbC1zY3JlZW4nKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCB7IG5vbWJyZVBlbGljdWxhLCBudW1lcm9DdWVudGFDbGllbnRlQ2FkZW5hQmF6LCBib3RvblBhZ286IHsgYW1vdW50IH0gfSA9IGRhdGEuZGF0b3NGbHVqbztcbiAgICAgICAgXG4gICAgICAgICQoJy5kZXRhaWwtc2NyZWVuJykuZmluZCgnW2RhdGEtaWQ9XCJub21icmVcIl0nKS50ZXh0KG5vbWJyZVBlbGljdWxhKTtcbiAgICAgICAgJCgnLmRldGFpbC1zY3JlZW4nKS5maW5kKCdbZGF0YS1pZD1cInByZWNpb1wiXScpLnRleHQoZm9ybWF0QW1vdW50KGFtb3VudCkpO1xuICAgICAgICAkKCcuZGV0YWlsLXNjcmVlbicpLmZpbmQoJ1tkYXRhLWlkPVwidGFyamV0YVwiXScpLnRleHQobnVtZXJvQ3VlbnRhQ2xpZW50ZUNhZGVuYUJheik7XG4gICAgICAgIFxuICAgICAgICBzaG93TG9hZGVyKGZhbHNlKTtcbiAgICB9KTtcbn0sIGZ1bmN0aW9uICgpIHtcblxufSk7XG5cblxuXG5cblxuXG5jb25zdCAkYWR2aWNlcyA9ICQoJy5hZHZpY2UuZml4ZWQnKTtcblxuJGFkdmljZXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgJGFkdmljZSA9ICQodGhpcyk7XG4gICAgY29uc3QgJGNsb3NlQnRuID0gJGFkdmljZS5maW5kKCcuY2xvc2UtYnRuJyk7XG5cbiAgICAkY2xvc2VCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzaG93QWR2aWNlKCRhZHZpY2UsIGZhbHNlKTtcbiAgICB9KTtcbn0pO1xuXG4kKCcuZGV0YWlsLXNjcmVlbiAuc3dpcGUtYnRuJykuc3dpcGUoe1xuICAgIGNiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNob3dMb2FkZXIodHJ1ZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2NyaXB0cy5qczogT3BlbiBkaWdpdGFsIHNpZ24nKTtcblxuICAgICAgICB9LCA1MDApO1xuICAgIH1cbn0pO1xuXG5cbi8vIEluaXRpYWxpemUgQXV0aCBTY3JlZW4gY29tcG9uZW50cy5cbmNvbnN0ICRkaWdpdHMgPSAkKCcuYXV0aC1zY3JlZW4gLmRpZ2l0IGlucHV0Jyk7XG5cbiRkaWdpdHMub24oJ2tleXByZXNzIGtleWRvd24ga2V5dXAgaW5wdXQgY2hhbmdlIHBhc3RlJywgbnVtYmVyRmlsdGVyKVxuJGRpZ2l0cy5vbigna2V5dXAnLCBoYW5kbGVEaWdpdEtleXVwKTtcblxuJGRpZ2l0cy5lcSgwKS5mb2N1cygpO1xuXG5cbi8vIEluaXRpYWxpemUgY2xvc2UgYnV0dG9ucy5cbiQoJy5zY3JlZW4gaGVhZGVyIC5jbG9zZS1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3NjcmlwdHMuanM6IENsb3NpbmcgV2ViVmlldycpO1xuXG59KTtcblxuXG4vLyBJbml0aWFsaXplIHNoYXJlIGJ1dHRvbi5cbiQoJy5zaGFyZS1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3NjcmlwdHMuanM6IFNoYXJpbmcgdGlja2V0Jyk7XG5cbn0pO1xuXG5cbi8vIEluaXRpYWxpemUgbW92aWUgYnV0dG9uLlxuJCgnLm1vdmllLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnc2NyaXB0cy5qczogUGxheSBtb3ZpZScpO1xuXG59KTtcbiJdfQ==

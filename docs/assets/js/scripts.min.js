"use strict";function ownKeys(o,e){var a,t=Object.keys(o);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(o),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),t.push.apply(t,a)),t}function _objectSpread(o){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(o,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))})}return o}function _defineProperty(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}var globalIdPelicula,globalImagenPelicula,globalNombrePelicula,globalNumeroCuentaClienteCadenaBaz,globalBotonPago,globalCompras,globalTokenOperacion,globalHeaders,globalGiftCard,globalGiftCardPayment,request={BASE_URL:"https://api.baz.app/superapp",buyMovie:function(e,o,a,t,n){request.send("https://api.baz.app/superapp/diversion/gestion-peliculas/v1/peliculas/"+e+"/compras","POST",o,a,t)},movieById:function(e,o,a){request.send("https://api.baz.app/superapp/canal/clientes/gestion-sesiones/v1/portal/operaciones/"+e,"GET",void 0,{"x-sicu":"3bad1290ac4600a569162efaa09117ea","x-id-interaccion":"123e4567-e89b-12d3-a456-426655440000","x-token-usuario":"SRfVZrTYvdm7mzzZmcuiDViACkAx"},o,a)},paymentButton:function(e,o,a,t){request.send("https://api.baz.app/superapp/pagos/captacion/traspasos/v1/boton-pago","POST",e,o,a,t)},payGiftCard:function(e,o,a){},send:function(e,o,a,t,n,i){$.ajax({url:e,method:o,contentType:"application/json",processData:!1,headers:t,data:JSON.stringify(a),success:n,error:i})}};function bind(t){$("[data-id]").each(function(){var e=$(this),o=e.data("id"),a=t[o];"precio"===o?e.html(formatAmount(a)):"saldo"===o?"false"===a&&setTimeout(function(){showAdvice(e,!0)},500):e.html(a)})}function bindFromStr(e){try{bind(JSON.parse(e))}catch(e){console.log(e)}}function changeScreen(e,o){$(".screen").addClass("no-visible"),e.removeClass("no-visible"),"function"==typeof o&&o()}function formatAmount(e){return"$ "+Number(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}function handleDigitKeyup(e){var o=e.target,a=e.keyCode,t=$(o.parentNode);8===a?0<t.prev().length&&((e=t.prev().find("input")).val(""),e.focus()):47<a&&a<58&&""!==o.value&&0<t.next().length&&t.next().find("input").focus(),validateCode()}function numberFilter(e){/^\d{0,1}$/.test(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}function fakeRequest(e,o){setTimeout(function(){o("000001"===e)},1500)}function searchToJson(){for(var e,o=location.search.substring(1).split("&"),a={},t=0;t<o.length;t++)""!==o[t]&&(e=o[t].split("="),a[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return a}function showAdvice(e,o){o?e.addClass("no-visible"):e.removeClass("no-visible")}function showLoader(e){var o=$(".loader");e?(o.length<=0&&(o=$('<div class="loader">')),$("body").append(o),setTimeout(function(){return o.addClass("loader-visible")},10)):(o.removeClass("loader-visible"),setTimeout(function(){return o.remove()},375))}function showErrorScreen(e,o,a){var t=e.responseJSON,e=t.folio,t=t.mensaje;$(".error-screen").find('[data-id="mensaje"]').text(t),$(".error-screen").find('[data-id="folio"]').text(e),changeScreen($(".error-screen")),showLoader(!1)}function validateCode(){var o=$(".auth-screen .code"),a=$(".auth-screen .digit input"),e="";a.each(function(){e+=this.value}),6===e.length?(showLoader(!0),fakeRequest(e,function(e){e?(o.addClass("valid"),changeScreen($(".resume-screen"),function(){showLoader(!1)})):(showLoader(!1),o.addClass("invalid"),setTimeout(function(){a.each(function(){$(this).val("")}),a.eq(0).focus()},100))})):o.removeClass("valid invalid")}var searchJson=searchToJson();showLoader(!0),request.movieById(searchJson.id,function(e){console.log("%o",e);var o,a,t=e.resultado,n=t.datosFlujo,i=t.headers,r=t.idFlujo;globalHeaders=i,"COMPRA_GIFTCARD"===r?(o=n.giftCard,a=n.giftCardPayment,globalGiftCard=o,globalGiftCardPayment=a,$(".gitCard-amout").find('[data-id="nombre"]').text(globalGiftCard.name),$(".gitCard-amout").find('[data-id="montos"]').empty(),globalGiftCard.amounts.forEach(function(e){var o=document.createElement("option");o.setAttribute("value",e.id),o.innerText=formatAmount(e.precios),o.obj=e,o.classList.add("colorPrice"),$(".gitCard-amout").find('[data-id="montos"]').append(o)}),changeScreen($(".gitCard-amout"))):(e=n.idPelicula,t=n.imagenPelicula,i=n.nombrePelicula,r=n.numeroCuentaClienteCadenaBaz,o=n.botonPago,a=n.compras,n=n.tokenOperacion,globalIdPelicula=e,globalImagenPelicula=t,globalNombrePelicula=i,globalNumeroCuentaClienteCadenaBaz=r,globalBotonPago=o.transaccion,globalCompras=a.transaccion,globalTokenOperacion=n,$(".detail-screen").find('[data-id="nombre"]').text(globalNombrePelicula),$(".detail-screen").find('[data-id="precio"]').text(formatAmount(globalBotonPago.detallePago.montoEnvio)),$(".detail-screen").find('[data-id="tarjeta"]').text(globalNumeroCuentaClienteCadenaBaz),changeScreen($(".detail-screen"))),showLoader(!1)},showErrorScreen);var $advices=$(".advice.fixed");$advices.each(function(){var e=$(this);e.find(".close-btn").on("click",function(){showAdvice(e,!1)})}),$(".rent-button").on("click",function(){console.log("scripts.js: Click rent button.");var e=_objectSpread({},globalHeaders),n=_objectSpread({},globalHeaders);delete n["x-id-operacion-conciliacion"],showLoader(!0),request.paymentButton({transaccion:_objectSpread(_objectSpread({},globalBotonPago),{},{tokenOperacion:globalTokenOperacion})},e,function(e){console.log("scripts.js: Payment button. %o",e);var o=e.resultado,a=o.fechaOperacion,t=o.horaOperacion;request.buyMovie(globalIdPelicula,{transaccion:_objectSpread(_objectSpread({},globalCompras),{},{fechaOperacion:e.resultado.fechaOperacion,numeroMovimiento:e.resultado.numeroMovimiento})},n,function(e){console.log("scripts.js: Buy movie. %o",e);e=e.folio;$(".resume-screen").find('[data-id="fecha"]').text("".concat(a,", ").concat(t)),$(".resume-screen").find('[data-id="precio"]').text(formatAmount(globalBotonPago.detallePago.montoEnvio)),$(".resume-screen").find('[data-id="tarjeta"]').text(globalNumeroCuentaClienteCadenaBaz),$(".resume-screen").find('[data-id="nombre"]').text(globalNombrePelicula),$(".resume-screen").find('[data-id="precio"]').text(formatAmount(globalBotonPago.detallePago.montoEnvio)),$(".resume-screen").find('[data-id="folio"]').text(e),changeScreen($(".resume-screen")),showLoader(!1)},showErrorScreen)},showErrorScreen)});var $digits=$(".auth-screen .digit input");$digits.on("keypress keydown keyup input change paste",numberFilter),$digits.on("keyup",handleDigitKeyup),$digits.eq(0).focus(),$(".share-btn").on("click",function(){console.log("scripts.js: Sharing ticket")}),$(".movie-btn").on("click",function(){console.log("scripts.js: Go to movie button click."),$(".success-screen").find('[data-id="nombre"]').text(globalNombrePelicula),$(".success-screen").find(".see-movie-href").attr("href","intent://?verPelicula?data=".concat(btoa(globalIdPelicula),"#Intent;scheme=sappdl;action=android.intent.action.VIEW;S.browser_fallback_url=https%3A%2F%2Fplay.google.com/store/apps/details?id=mx.app.baz.superapp;end")),globalImagenPelicula&&$('<img src="'.concat(globalImagenPelicula,'">')).on("load",function(){$(".success-screen").find('[data-id="imagen"]').attr("style","background-image: url(".concat(globalImagenPelicula,")")).addClass("displayed")}),changeScreen($(".success-screen"))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcXVlc3QuanMiLCJzY3JpcHRzLmpzIl0sIm5hbWVzIjpbImdsb2JhbElkUGVsaWN1bGEiLCJnbG9iYWxJbWFnZW5QZWxpY3VsYSIsImdsb2JhbE5vbWJyZVBlbGljdWxhIiwiZ2xvYmFsTnVtZXJvQ3VlbnRhQ2xpZW50ZUNhZGVuYUJheiIsImdsb2JhbEJvdG9uUGFnbyIsImdsb2JhbENvbXByYXMiLCJnbG9iYWxUb2tlbk9wZXJhY2lvbiIsImdsb2JhbEhlYWRlcnMiLCJnbG9iYWxHaWZ0Q2FyZCIsImdsb2JhbEdpZnRDYXJkUGF5bWVudCIsInJlcXVlc3QiLCJCQVNFX1VSTCIsImJ1eU1vdmllIiwiaWRNb3ZpZSIsImJvZHkiLCJoZWFkZXJzIiwic3VjY2VzcyIsImVycm9yIiwic2VuZCIsIm1vdmllQnlJZCIsImlkT3BlcmF0aW9uIiwidW5kZWZpbmVkIiwieC1zaWN1IiwieC1pZC1pbnRlcmFjY2lvbiIsIngtdG9rZW4tdXN1YXJpbyIsInBheW1lbnRCdXR0b24iLCJwYXlHaWZ0Q2FyZCIsInVybCIsIm1ldGhvZCIsImpzb25IZWFkZXJzIiwiJCIsImFqYXgiLCJjb250ZW50VHlwZSIsInByb2Nlc3NEYXRhIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJiaW5kIiwidmFsdWVzIiwiZWFjaCIsIiR0YWciLCJ0aGlzIiwiaWQiLCJ2YWx1ZSIsImh0bWwiLCJmb3JtYXRBbW91bnQiLCJzZXRUaW1lb3V0Iiwic2hvd0FkdmljZSIsImJpbmRGcm9tU3RyIiwic3RySnNvbiIsInBhcnNlIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNoYW5nZVNjcmVlbiIsIiRzY3JlZW4iLCJjYWxsYmFjayIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhbW91bnQiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwicmVwbGFjZSIsImhhbmRsZURpZ2l0S2V5dXAiLCJfcmVmIiwidGFyZ2V0Iiwia2V5Q29kZSIsIiRwYXJlbnQiLCJwYXJlbnROb2RlIiwicHJldiIsImxlbmd0aCIsIiRpbnB1dCIsImZpbmQiLCJ2YWwiLCJmb2N1cyIsIm5leHQiLCJ2YWxpZGF0ZUNvZGUiLCJudW1iZXJGaWx0ZXIiLCJldmVudCIsInRlc3QiLCJvbGRWYWx1ZSIsIm9sZFNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uU3RhcnQiLCJvbGRTZWxlY3Rpb25FbmQiLCJzZWxlY3Rpb25FbmQiLCJoYXNPd25Qcm9wZXJ0eSIsInNldFNlbGVjdGlvblJhbmdlIiwiZmFrZVJlcXVlc3QiLCJjb2RlIiwic2VhcmNoVG9Kc29uIiwicGFydHMiLCJwYWlycyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJvYmplY3QiLCJpIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiJGVsIiwiZmxhZyIsInNob3dMb2FkZXIiLCJzaG93IiwiJGxvYWRlciIsImFwcGVuZCIsInJlbW92ZSIsInNob3dFcnJvclNjcmVlbiIsImpxWEhSIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwiX2pxWEhSJHJlc3BvbnNlSlNPTiIsInJlc3BvbnNlSlNPTiIsImZvbGlvIiwibWVuc2FqZSIsInRleHQiLCIkY29kZSIsIiRkaWdpdHMiLCJlcSIsInNlYXJjaEpzb24iLCJib3RvblBhZ28iLCJjb21wcmFzIiwiX2RhdGEkcmVzdWx0YWRvIiwicmVzdWx0YWRvIiwiZGF0b3NGbHVqbyIsImlkRmx1am8iLCJnaWZ0Q2FyZCIsImdpZnRDYXJkUGF5bWVudCIsIm5hbWUiLCJlbXB0eSIsImFtb3VudHMiLCJmb3JFYWNoIiwib3B0aW9uRWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lclRleHQiLCJwcmVjaW9zIiwib2JqIiwiY2xhc3NMaXN0IiwiYWRkIiwiaWRQZWxpY3VsYSIsImltYWdlblBlbGljdWxhIiwibm9tYnJlUGVsaWN1bGEiLCJudW1lcm9DdWVudGFDbGllbnRlQ2FkZW5hQmF6IiwidG9rZW5PcGVyYWNpb24iLCJ0cmFuc2FjY2lvbiIsImRldGFsbGVQYWdvIiwibW9udG9FbnZpbyIsIiRhZHZpY2VzIiwiJGFkdmljZSIsIm9uIiwicGF5bWVudEJ1dHRvbkhlYWRlcnMiLCJfb2JqZWN0U3ByZWFkIiwiYnV5TW92aWVIZWFkZXJzIiwiX2RhdGEkcmVzdWx0YWRvMiIsImZlY2hhT3BlcmFjaW9uIiwiaG9yYU9wZXJhY2lvbiIsIm51bWVyb01vdmltaWVudG8iLCJjb25jYXQiLCJhdHRyIiwiYnRvYSJdLCJtYXBwaW5ncyI6InF2QkFBQSxJQ0FBQSxpQkFDQUMscUJBQ0FDLHFCQUNBQyxtQ0FDQUMsZ0JBQ0FDLGNBQ0FDLHFCQUNBQyxjQUNBQyxlQUNBQyxzQkRUQUMsUUFBQSxDQUdBQyxTQUFBLCtCQVVBQyxTQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBR0FQLFFBQUFRLEtBREEseUVBQUFMLEVBQUEsV0FDQSxPQUFBQyxFQUFBQyxFQUFBQyxJQU9BRyxVQUFBLFNBQUFDLEVBQUFKLEVBQUFDLEdBR0FQLFFBQUFRLEtBREEsc0ZBQUFFLEVBQ0EsV0FBQUMsRUFBQSxDQUNBQyxTQUFBLG1DQUNBQyxtQkFBQSx1Q0FDQUMsa0JBQUEsZ0NBQ0FSLEVBQUFDLElBVUFRLGNBQUEsU0FBQVgsRUFBQUMsRUFBQUMsRUFBQUMsR0FHQVAsUUFBQVEsS0FEQSx1RUFDQSxPQUFBSixFQUFBQyxFQUFBQyxFQUFBQyxJQVNBUyxZQUFBLFNBQUFOLEVBQUFKLEVBQUFDLEtBY0FDLEtBQUEsU0FBQVMsRUFBQUMsRUFBQWQsRUFBQWUsRUFBQWIsRUFBQUMsR0FDQWEsRUFBQUMsS0FBQSxDQUNBSixJQUFBQSxFQUNBQyxPQUFBQSxFQUNBSSxZQUFBLG1CQUNBQyxhQUFBLEVBQ0FsQixRQUFBYyxFQUNBSyxLQUFBQyxLQUFBQyxVQUFBdEIsR0FDQUUsUUFBQUEsRUFDQUMsTUFBQUEsTUM1REEsU0FBQW9CLEtBQUFDLEdBQ0FSLEVBQUEsYUFFQVMsS0FBQSxXQUNBLElBQUFDLEVBQUFWLEVBQUFXLE1BQ0FDLEVBQUFGLEVBQUFOLEtBQUEsTUFDQVMsRUFBQUwsRUFB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RixFQUFBLGtCQUFBMEMsS0FBQSxxQkFBQTBDLEtBQUEsR0FBQTRDLE9BQUFILEVBQUEsTUFBQUcsT0FBQUYsSUFDQTlILEVBQUEsa0JBQUEwQyxLQUFBLHNCQUFBMEMsS0FBQXJFLGFBQUF6QyxnQkFBQThJLFlBQUFDLGFBQ0FySCxFQUFBLGtCQUFBMEMsS0FBQSx1QkFBQTBDLEtBQUEvRyxvQ0FDQTJCLEVBQUEsa0JBQUEwQyxLQUFBLHNCQUFBMEMsS0FBQWhILHNCQUNBNEIsRUFBQSxrQkFBQTBDLEtBQUEsc0JBQUEwQyxLQUFBckUsYUFBQXpDLGdCQUFBOEksWUFBQUMsYUFDQXJILEVBQUEsa0JBQUEwQyxLQUFBLHFCQUFBMEMsS0FBQUYsR0FFQTFELGFBQUF4QixFQUFBLG1CQUNBdUUsWUFBQSxJQUVBSyxrQkFHQUEsbUJBS0EsSUFBQVUsUUFBQXRGLEVBQUEsNkJBRUFzRixRQUFBa0MsR0FBQSw0Q0FBQXpFLGNBQ0F1QyxRQUFBa0MsR0FBQSxRQUFBdkYsa0JBRUFxRCxRQUFBQyxHQUFBLEdBQUEzQyxRQUdBNUMsRUFBQSxjQUFBd0gsR0FBQSxRQUFBLFdBQ0FsRyxRQUFBQyxJQUFBLGdDQUlBdkIsRUFBQSxjQUFBd0gsR0FBQSxRQUFBLFdBQ0FsRyxRQUFBQyxJQUFBLHlDQUVBdkIsRUFBQSxtQkFBQTBDLEtBQUEsc0JBQUEwQyxLQUFBaEgsc0JBQ0E0QixFQUFBLG1CQUFBMEMsS0FBQSxtQkFBQXVGLEtBQUEsT0FBQSw4QkFBQUQsT0FBQUUsS0FBQWhLLGtCQUFBLCtKQUdBQyxzQkFDQTZCLEVBQUEsYUFBQWdJLE9BQUE3SixxQkFBQSxPQUFBcUosR0FBQSxPQUFBLFdBQ0F4SCxFQUFBLG1CQUFBMEMsS0FBQSxzQkFBQXVGLEtBQUEsUUFBQSx5QkFBQUQsT0FBQTdKLHFCQUFBLE1BQUF3RCxTQUFBLGVBSUFILGFBQUF4QixFQUFBIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHtcclxuXHJcbiAgICAvLyBCQVNFX1VSTDogJ2h0dHBzOi8vYXBpZ2F0ZXdheS5zdXBlcmFwcGJhei5jb20vaW50ZWdyYWNpb24vc3VwZXJhcHAnLCAvLyBEZXZcclxuICAgIEJBU0VfVVJMOiAnaHR0cHM6Ly9hcGkuYmF6LmFwcC9zdXBlcmFwcCcsIC8vIFByb2RcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ha2UgYSBwYXltZW50LlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkTW92aWUgXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keSBcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBoZWFkZXJzIFxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIFxyXG4gICAgICovXHJcbiAgICBidXlNb3ZpZTogZnVuY3Rpb24gKGlkTW92aWUsIGJvZHksIGhlYWRlcnMsIHN1Y2Nlc3MsIGVycm9yKSB7XHJcbiAgICAgICAgLy8gY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpZ2F0ZXdheS5zdXBlcmFwcGJhei5jb20vaW50ZWdyYWNpb24vc3VwZXJhcHAvZGl2ZXJzaW9uL2dlc3Rpb24tcGVsaWN1bGFzL3YxL3BlbGljdWxhcy8nICsgaWRNb3ZpZSArICcvY29tcHJhcyc7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmJhei5hcHAvc3VwZXJhcHAvZGl2ZXJzaW9uL2dlc3Rpb24tcGVsaWN1bGFzL3YxL3BlbGljdWxhcy8nICsgaWRNb3ZpZSArICcvY29tcHJhcyc7XHJcbiAgICAgICAgcmVxdWVzdC5zZW5kKHVybCwgJ1BPU1QnLCBib2R5LCBoZWFkZXJzLCBzdWNjZXNzKVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBtb3ZpZSBieSBpZCBvcGVyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRPcGVyYXRpb24gXHJcbiAgICAgKi9cclxuICAgIG1vdmllQnlJZDogZnVuY3Rpb24oaWRPcGVyYXRpb24sIHN1Y2Nlc3MsIGVycm9yKSB7XHJcbiAgICAgICAgLy8gY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpZ2F0ZXdheS5zdXBlcmFwcGJhei5jb20vaW50ZWdyYWNpb24vc3VwZXJhcHAvY2FuYWwvY2xpZW50ZXMvZ2VzdGlvbi1zZXNpb25lcy92MS9wb3J0YWwvb3BlcmFjaW9uZXMvJyArIGlkT3BlcmF0aW9uO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5iYXouYXBwL3N1cGVyYXBwL2NhbmFsL2NsaWVudGVzL2dlc3Rpb24tc2VzaW9uZXMvdjEvcG9ydGFsL29wZXJhY2lvbmVzLycgKyBpZE9wZXJhdGlvbjtcclxuICAgICAgICByZXF1ZXN0LnNlbmQodXJsLCAnR0VUJywgdW5kZWZpbmVkLCB7XHJcbiAgICAgICAgICAgICd4LXNpY3UnOiAnM2JhZDEyOTBhYzQ2MDBhNTY5MTYyZWZhYTA5MTE3ZWEnLFxyXG4gICAgICAgICAgICAneC1pZC1pbnRlcmFjY2lvbic6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2NTU0NDAwMDAnLFxyXG4gICAgICAgICAgICAneC10b2tlbi11c3VhcmlvJzogJ1NSZlZaclRZdmRtN216elptY3VpRFZpQUNrQXgnXHJcbiAgICAgICAgfSwgc3VjY2VzcywgZXJyb3IpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIHBheW1lbnQuXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGhlYWRlcnNcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3NcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yXHJcbiAgICAgKi9cclxuICAgIHBheW1lbnRCdXR0b246IGZ1bmN0aW9uIChib2R5LCBoZWFkZXJzLCBzdWNjZXNzLCBlcnJvcikge1xyXG4gICAgICAgIC8vIGNvbnN0IHVybCA9ICdodHRwczovL2FwaWdhdGV3YXkuc3VwZXJhcHBiYXouY29tL2ludGVncmFjaW9uL3N1cGVyYXBwL3BhZ29zL2NhcHRhY2lvbi90cmFzcGFzb3MvdjEvYm90b24tcGFnbyc7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmJhei5hcHAvc3VwZXJhcHAvcGFnb3MvY2FwdGFjaW9uL3RyYXNwYXNvcy92MS9ib3Rvbi1wYWdvJztcclxuICAgICAgICByZXF1ZXN0LnNlbmQodXJsLCAnUE9TVCcsIGJvZHksIGhlYWRlcnMsIHN1Y2Nlc3MsIGVycm9yKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc2VsZWN0ZWQgZ2lmdCBjYXJkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpZ259IGlkT3BlcmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvclxyXG4gICAgICovXHJcbiAgICBwYXlHaWZ0Q2FyZDogZnVuY3Rpb24gKGlkT3BlcmF0aW9uLCBzdWNjZXNzLCBlcnJvcikge1xyXG4gICAgICAgIC8vIGNvbnN0IHVybCA9ICdodHRwczovL2FwaWdhdGV3YXkuc3VwZXJhcHBiYXouY29tL2ludGVncmFjaW9uL3N1cGVyYXBwL3BhZ29zL2NhcHRhY2lvbi90cmFzcGFzb3MvdjEvYm90b24tcGFnbyc7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmJhei5hcHAvaW50ZWdyYWNpb24vc3VwZXJhcHAvcGFnb3MvY2FwdGFjaW9uL3RyYXNwYXNvcy92MS9ib3Rvbi1wYWdvJztcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYWtlIHJlcXVlc3QuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHlcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBqc29uSGVhZGVycyBcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvclxyXG4gICAgICovXHJcbiAgICBzZW5kOiBmdW5jdGlvbiAodXJsLCBtZXRob2QsIGJvZHksIGpzb25IZWFkZXJzLCBzdWNjZXNzLCBlcnJvcikge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybCwgXHJcbiAgICAgICAgICAgIG1ldGhvZCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLCBcclxuICAgICAgICAgICAgaGVhZGVyczoganNvbkhlYWRlcnMsIFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgICAgICAgc3VjY2VzcyxcclxuICAgICAgICAgICAgZXJyb3JcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTsiLCJsZXQgZ2xvYmFsSWRQZWxpY3VsYSxcclxuICBnbG9iYWxJbWFnZW5QZWxpY3VsYSxcclxuICBnbG9iYWxOb21icmVQZWxpY3VsYSxcclxuICBnbG9iYWxOdW1lcm9DdWVudGFDbGllbnRlQ2FkZW5hQmF6LFxyXG4gIGdsb2JhbEJvdG9uUGFnbyxcclxuICBnbG9iYWxDb21wcmFzLFxyXG4gIGdsb2JhbFRva2VuT3BlcmFjaW9uLFxyXG4gIGdsb2JhbEhlYWRlcnMsXHJcbiAgZ2xvYmFsR2lmdENhcmQsXHJcbiAgZ2xvYmFsR2lmdENhcmRQYXltZW50O1xyXG5cclxuLyoqXHJcbiAqIEJpbmQgSlNPTiB0byBIVE1MLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gdmFsdWVzXHJcbiAqL1xyXG5mdW5jdGlvbiBiaW5kKHZhbHVlcykge1xyXG4gIGNvbnN0ICR0YWdzID0gJChcIltkYXRhLWlkXVwiKTtcclxuXHJcbiAgJHRhZ3MuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCAkdGFnID0gJCh0aGlzKTtcclxuICAgIGNvbnN0IGlkID0gJHRhZy5kYXRhKFwiaWRcIik7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpZF07XHJcblxyXG4gICAgaWYgKGlkID09PSBcInByZWNpb1wiKSB7XHJcbiAgICAgICR0YWcuaHRtbChmb3JtYXRBbW91bnQodmFsdWUpKTtcclxuICAgIH0gZWxzZSBpZiAoaWQgPT09IFwic2FsZG9cIikge1xyXG4gICAgICBpZiAodmFsdWUgPT09IFwiZmFsc2VcIikge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBzaG93QWR2aWNlKCR0YWcsIHRydWUpOyB9LCA1MDApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkdGFnLmh0bWwodmFsdWUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogUGFyc2Ugc3RyaW5nIHRvIG9iamVjdCBhbmQgdGhlbiBiaW5kLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RySnNvblxyXG4gKi9cclxuZnVuY3Rpb24gYmluZEZyb21TdHIoc3RySnNvbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShzdHJKc29uKTtcclxuICAgIGJpbmQoanNvbik7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENoYW5nZSBzY3JlZW4uXHJcbiAqIEBwYXJhbSB7alF1ZXJ5fSAkc2NyZWVuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGFuZ2VTY3JlZW4oJHNjcmVlbiwgY2FsbGJhY2spIHtcclxuICAkKFwiLnNjcmVlblwiKS5hZGRDbGFzcyhcIm5vLXZpc2libGVcIik7XHJcbiAgJHNjcmVlbi5yZW1vdmVDbGFzcyhcIm5vLXZpc2libGVcIik7XHJcblxyXG4gIHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiICYmIGNhbGxiYWNrKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYW1vdW50IHdpdGggY3VycmVuY3kgZm9ybWF0LlxyXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50XHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBmb3JtYXRBbW91bnQoYW1vdW50KSB7XHJcbiAgcmV0dXJuIChcIiQgXCIgKyBOdW1iZXIoYW1vdW50KS50b0ZpeGVkKDIpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLFwiKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGUgZGlnaXQga2V5dXAgZXZlbnQuXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmZ1bmN0aW9uIGhhbmRsZURpZ2l0S2V5dXAoeyB0YXJnZXQsIGtleUNvZGUgfSkge1xyXG4gIGNvbnN0ICRwYXJlbnQgPSAkKHRhcmdldC5wYXJlbnROb2RlKTtcclxuXHJcbiAgaWYgKGtleUNvZGUgPT09IDgpIHtcclxuICAgIGlmICgkcGFyZW50LnByZXYoKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0ICRpbnB1dCA9ICRwYXJlbnQucHJldigpLmZpbmQoXCJpbnB1dFwiKTtcclxuXHJcbiAgICAgICRpbnB1dC52YWwoXCJcIik7XHJcbiAgICAgICRpbnB1dC5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoa2V5Q29kZSA+IDQ3ICYmIGtleUNvZGUgPCA1OCkge1xyXG4gICAgaWYgKHRhcmdldC52YWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICBpZiAoJHBhcmVudC5uZXh0KCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0ICRpbnB1dCA9ICRwYXJlbnQubmV4dCgpLmZpbmQoXCJpbnB1dFwiKTtcclxuICAgICAgICAkaW5wdXQuZm9jdXMoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFsaWRhdGVDb2RlKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBcHBseSBudW1iZXIgZmlsdGVyLlxyXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxyXG4gKi9cclxuZnVuY3Rpb24gbnVtYmVyRmlsdGVyKGV2ZW50KSB7XHJcbiAgY29uc3QgZmlsdGVyID0gL15cXGR7MCwxfSQvO1xyXG5cclxuICBpZiAoZmlsdGVyLnRlc3QodGhpcy52YWx1ZSkpIHtcclxuICAgIHRoaXMub2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xyXG4gICAgdGhpcy5vbGRTZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XHJcbiAgICB0aGlzLm9sZFNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xyXG4gIH0gZWxzZSBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShcIm9sZFZhbHVlXCIpKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gdGhpcy5vbGRWYWx1ZTtcclxuICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5vbGRTZWxlY3Rpb25TdGFydCwgdGhpcy5vbGRTZWxlY3Rpb25FbmQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLnZhbHVlID0gXCJcIjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEbyBmYWtlIHJlcXVlc3QuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqL1xyXG5mdW5jdGlvbiBmYWtlUmVxdWVzdChjb2RlLCBjYWxsYmFjaykge1xyXG4gIHNldFRpbWVvdXQoKCkgPT4geyBjYWxsYmFjayhjb2RlID09PSBcIjAwMDAwMVwiKTsgfSwgMTUwMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBsb2NhdGlvbi5zZWFyY2ggdG8gSlNPTi5cclxuICogQHJldHVybnMgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZWFyY2hUb0pzb24oKSB7XHJcbiAgY29uc3QgcGFpcnMgPSBsb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLnNwbGl0KFwiJlwiKTtcclxuICBjb25zdCBvYmplY3QgPSB7fTtcclxuICBsZXQgaSA9IDA7XHJcblxyXG4gIGZvciAoOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChwYWlyc1tpXSA9PT0gXCJcIikgeyBjb250aW51ZTsgfVxyXG4gICAgXHJcbiAgICBjb25zdCBwYXJ0cyA9IHBhaXJzW2ldLnNwbGl0KFwiPVwiKTtcclxuICAgIG9iamVjdFtkZWNvZGVVUklDb21wb25lbnQocGFydHNbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1sxXSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb2JqZWN0O1xyXG59XHJcblxyXG4vKipcclxuICogU2hvdyBvciBoaWRlIGFkdmljZS5cclxuICogQHBhcmFtIHtqUXVlcnl9ICRlbFxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZsYWdcclxuICovXHJcbmZ1bmN0aW9uIHNob3dBZHZpY2UoJGVsLCBmbGFnKSB7XHJcbiAgaWYgKGZsYWcpIHtcclxuICAgICRlbC5hZGRDbGFzcyhcIm5vLXZpc2libGVcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgICRlbC5yZW1vdmVDbGFzcyhcIm5vLXZpc2libGVcIik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU2hvdyBvciBoaWRlIGxvYWRlci5cclxuICogQHBhcmFtIHtib29sZWFufSBzaG93XHJcbiAqL1xyXG5mdW5jdGlvbiBzaG93TG9hZGVyKHNob3cpIHtcclxuICBsZXQgJGxvYWRlciA9ICQoXCIubG9hZGVyXCIpO1xyXG5cclxuICBpZiAoc2hvdykge1xyXG4gICAgaWYgKCRsb2FkZXIubGVuZ3RoIDw9IDApIHtcclxuICAgICAgJGxvYWRlciA9ICQoJzxkaXYgY2xhc3M9XCJsb2FkZXJcIj4nKTtcclxuICAgIH1cclxuXHJcbiAgICAkKFwiYm9keVwiKS5hcHBlbmQoJGxvYWRlcik7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+ICRsb2FkZXIuYWRkQ2xhc3MoXCJsb2FkZXItdmlzaWJsZVwiKSwgMTApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkbG9hZGVyLnJlbW92ZUNsYXNzKFwibG9hZGVyLXZpc2libGVcIik7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+ICRsb2FkZXIucmVtb3ZlKCksIDM3NSk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU2hvdyBvciBoaWRlIGVycm9yIHNjcmVlbi5cclxuICogQHBhcmFtIHtqcVhIUn0ganFYSFJcclxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRTdGF0dXNcclxuICogQHBhcmFtIHtzdHJpbmd9IGVycm9yVGhyb3duXHJcbiAqL1xyXG5mdW5jdGlvbiBzaG93RXJyb3JTY3JlZW4oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgY29uc3QgeyByZXNwb25zZUpTT046IHsgZm9saW8sIG1lbnNhamUgfSwgfSA9IGpxWEhSO1xyXG5cclxuICAkKFwiLmVycm9yLXNjcmVlblwiKS5maW5kKCdbZGF0YS1pZD1cIm1lbnNhamVcIl0nKS50ZXh0KG1lbnNhamUpO1xyXG4gICQoXCIuZXJyb3Itc2NyZWVuXCIpLmZpbmQoJ1tkYXRhLWlkPVwiZm9saW9cIl0nKS50ZXh0KGZvbGlvKTtcclxuXHJcbiAgY2hhbmdlU2NyZWVuKCQoXCIuZXJyb3Itc2NyZWVuXCIpKTtcclxuICBzaG93TG9hZGVyKGZhbHNlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlIGNvZGUgZnJvbSBjbGllbnQuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVDb2RlKCkge1xyXG4gIGNvbnN0ICRjb2RlID0gJChcIi5hdXRoLXNjcmVlbiAuY29kZVwiKTtcclxuICBjb25zdCAkZGlnaXRzID0gJChcIi5hdXRoLXNjcmVlbiAuZGlnaXQgaW5wdXRcIik7XHJcbiAgbGV0IGNvZGUgPSBcIlwiO1xyXG5cclxuICAkZGlnaXRzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgY29kZSArPSB0aGlzLnZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICBpZiAoY29kZS5sZW5ndGggPT09IDYpIHtcclxuICAgIHNob3dMb2FkZXIodHJ1ZSk7XHJcblxyXG4gICAgZmFrZVJlcXVlc3QoY29kZSwgKHN1Y2Nlc3MpID0+IHtcclxuICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAkY29kZS5hZGRDbGFzcyhcInZhbGlkXCIpO1xyXG5cclxuICAgICAgICBjaGFuZ2VTY3JlZW4oJChcIi5yZXN1bWUtc2NyZWVuXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICBzaG93TG9hZGVyKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaG93TG9hZGVyKGZhbHNlKTtcclxuICAgICAgICAkY29kZS5hZGRDbGFzcyhcImludmFsaWRcIik7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgJGRpZ2l0cy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS52YWwoXCJcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgICRkaWdpdHMuZXEoMCkuZm9jdXMoKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgJGNvZGUucmVtb3ZlQ2xhc3MoXCJ2YWxpZCBpbnZhbGlkXCIpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBEZXRhaWwgU2NyZWVuIGNvbXBvbmVudHMuXHJcbmNvbnN0IHNlYXJjaEpzb24gPSBzZWFyY2hUb0pzb24oKTtcclxuXHJcbnNob3dMb2FkZXIodHJ1ZSk7XHJcbnJlcXVlc3QubW92aWVCeUlkKFxyXG4gIHNlYXJjaEpzb25bXCJpZFwiXSxcclxuICBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coXCIlb1wiLCBkYXRhKTtcclxuXHJcbiAgICBjb25zdCB7IHJlc3VsdGFkbzogeyBkYXRvc0ZsdWpvLCBoZWFkZXJzLCBpZEZsdWpvIH0sIH0gPSBkYXRhO1xyXG5cclxuICAgIGdsb2JhbEhlYWRlcnMgPSBoZWFkZXJzO1xyXG5cclxuICAgIGlmIChpZEZsdWpvID09PSBcIkNPTVBSQV9HSUZUQ0FSRFwiKSB7XHJcbiAgICAgIGNvbnN0IHsgZ2lmdENhcmQsIGdpZnRDYXJkUGF5bWVudCB9ID0gZGF0b3NGbHVqbztcclxuXHJcbiAgICAgIGdsb2JhbEdpZnRDYXJkID0gZ2lmdENhcmQ7XHJcbiAgICAgIGdsb2JhbEdpZnRDYXJkUGF5bWVudCA9IGdpZnRDYXJkUGF5bWVudDtcclxuXHJcbiAgICAgICQoJy5naXRDYXJkLWFtb3V0JykuZmluZCgnW2RhdGEtaWQ9XCJub21icmVcIl0nKS50ZXh0KGdsb2JhbEdpZnRDYXJkLm5hbWUpO1xyXG4gICAgICAkKCcuZ2l0Q2FyZC1hbW91dCcpLmZpbmQoJ1tkYXRhLWlkPVwibW9udG9zXCJdJykuZW1wdHkoKTtcclxuXHJcbiAgICAgIGdsb2JhbEdpZnRDYXJkLmFtb3VudHMuZm9yRWFjaChhbW91bnQgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcblxyXG4gICAgICAgIG9wdGlvbkVsLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBhbW91bnQuaWQpO1xyXG4gICAgICAgIG9wdGlvbkVsLmlubmVyVGV4dCA9IGZvcm1hdEFtb3VudChhbW91bnQucHJlY2lvcyk7XHJcbiAgICAgICAgb3B0aW9uRWwub2JqID0gYW1vdW50O1xyXG4gICAgICAgIG9wdGlvbkVsLmNsYXNzTGlzdC5hZGQoJ2NvbG9yUHJpY2UnKTtcclxuXHJcbiAgICAgICAgJCgnLmdpdENhcmQtYW1vdXQnKS5maW5kKCdbZGF0YS1pZD1cIm1vbnRvc1wiXScpLmFwcGVuZChvcHRpb25FbCk7XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgIGNoYW5nZVNjcmVlbigkKFwiLmdpdENhcmQtYW1vdXRcIikpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgeyBpZFBlbGljdWxhLCBpbWFnZW5QZWxpY3VsYSwgbm9tYnJlUGVsaWN1bGEsIG51bWVyb0N1ZW50YUNsaWVudGVDYWRlbmFCYXosIGJvdG9uUGFnbywgY29tcHJhcywgdG9rZW5PcGVyYWNpb24sIH0gPSBkYXRvc0ZsdWpvO1xyXG5cclxuICAgICAgZ2xvYmFsSWRQZWxpY3VsYSA9IGlkUGVsaWN1bGE7XHJcbiAgICAgIGdsb2JhbEltYWdlblBlbGljdWxhID0gaW1hZ2VuUGVsaWN1bGE7XHJcbiAgICAgIGdsb2JhbE5vbWJyZVBlbGljdWxhID0gbm9tYnJlUGVsaWN1bGE7XHJcbiAgICAgIGdsb2JhbE51bWVyb0N1ZW50YUNsaWVudGVDYWRlbmFCYXogPSBudW1lcm9DdWVudGFDbGllbnRlQ2FkZW5hQmF6O1xyXG4gICAgICBnbG9iYWxCb3RvblBhZ28gPSBib3RvblBhZ28udHJhbnNhY2Npb247XHJcbiAgICAgIGdsb2JhbENvbXByYXMgPSBjb21wcmFzLnRyYW5zYWNjaW9uO1xyXG4gICAgICBnbG9iYWxUb2tlbk9wZXJhY2lvbiA9IHRva2VuT3BlcmFjaW9uO1xyXG5cclxuICAgICAgLy8gRmlsbCBkZXRhaWwgc2NyZWVuLlxyXG4gICAgICAkKFwiLmRldGFpbC1zY3JlZW5cIikuZmluZCgnW2RhdGEtaWQ9XCJub21icmVcIl0nKS50ZXh0KGdsb2JhbE5vbWJyZVBlbGljdWxhKTtcclxuICAgICAgJChcIi5kZXRhaWwtc2NyZWVuXCIpLmZpbmQoJ1tkYXRhLWlkPVwicHJlY2lvXCJdJykudGV4dChmb3JtYXRBbW91bnQoZ2xvYmFsQm90b25QYWdvLmRldGFsbGVQYWdvLm1vbnRvRW52aW8pKTtcclxuICAgICAgJChcIi5kZXRhaWwtc2NyZWVuXCIpLmZpbmQoJ1tkYXRhLWlkPVwidGFyamV0YVwiXScpLnRleHQoZ2xvYmFsTnVtZXJvQ3VlbnRhQ2xpZW50ZUNhZGVuYUJheik7XHJcblxyXG4gICAgICBjaGFuZ2VTY3JlZW4oJChcIi5kZXRhaWwtc2NyZWVuXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TG9hZGVyKGZhbHNlKTtcclxuICB9LFxyXG4gIHNob3dFcnJvclNjcmVlblxyXG4pO1xyXG5cclxuY29uc3QgJGFkdmljZXMgPSAkKFwiLmFkdmljZS5maXhlZFwiKTtcclxuJGFkdmljZXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgJGFkdmljZSA9ICQodGhpcyk7XHJcbiAgY29uc3QgJGNsb3NlQnRuID0gJGFkdmljZS5maW5kKFwiLmNsb3NlLWJ0blwiKTtcclxuXHJcbiAgJGNsb3NlQnRuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgc2hvd0FkdmljZSgkYWR2aWNlLCBmYWxzZSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuJChcIi5yZW50LWJ1dHRvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBjb25zb2xlLmxvZyhcInNjcmlwdHMuanM6IENsaWNrIHJlbnQgYnV0dG9uLlwiKTtcclxuXHJcbiAgY29uc3QgcGF5bWVudEJ1dHRvbkhlYWRlcnMgPSB7IC4uLmdsb2JhbEhlYWRlcnMgfTtcclxuICBjb25zdCBidXlNb3ZpZUhlYWRlcnMgPSB7IC4uLmdsb2JhbEhlYWRlcnMgfTtcclxuXHJcbiAgZGVsZXRlIGJ1eU1vdmllSGVhZGVyc1tcIngtaWQtb3BlcmFjaW9uLWNvbmNpbGlhY2lvblwiXTtcclxuXHJcbiAgc2hvd0xvYWRlcih0cnVlKTtcclxuICByZXF1ZXN0LnBheW1lbnRCdXR0b24oeyB0cmFuc2FjY2lvbjogeyAuLi5nbG9iYWxCb3RvblBhZ28sIHRva2VuT3BlcmFjaW9uOiBnbG9iYWxUb2tlbk9wZXJhY2lvbiB9LCB9LCBwYXltZW50QnV0dG9uSGVhZGVycywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJzY3JpcHRzLmpzOiBQYXltZW50IGJ1dHRvbi4gJW9cIiwgZGF0YSk7XHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdGFkbzogeyBmZWNoYU9wZXJhY2lvbiwgaG9yYU9wZXJhY2lvbiB9LCB9ID0gZGF0YTtcclxuXHJcbiAgICAgIHJlcXVlc3QuYnV5TW92aWUoZ2xvYmFsSWRQZWxpY3VsYSwgeyB0cmFuc2FjY2lvbjogeyAuLi5nbG9iYWxDb21wcmFzLCBmZWNoYU9wZXJhY2lvbjogZGF0YS5yZXN1bHRhZG8uZmVjaGFPcGVyYWNpb24sIG51bWVyb01vdmltaWVudG86IGRhdGEucmVzdWx0YWRvLm51bWVyb01vdmltaWVudG8sIH0sIH0sIGJ1eU1vdmllSGVhZGVycywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwic2NyaXB0cy5qczogQnV5IG1vdmllLiAlb1wiLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICBjb25zdCB7IGZvbGlvIH0gPSBkYXRhO1xyXG5cclxuICAgICAgICAgIC8vIEZpbGwgcmVzdW1lIHNjcmVlbi5cclxuICAgICAgICAgICQoXCIucmVzdW1lLXNjcmVlblwiKS5maW5kKCdbZGF0YS1pZD1cImZlY2hhXCJdJykudGV4dChgJHtmZWNoYU9wZXJhY2lvbn0sICR7aG9yYU9wZXJhY2lvbn1gKTtcclxuICAgICAgICAgICQoXCIucmVzdW1lLXNjcmVlblwiKS5maW5kKCdbZGF0YS1pZD1cInByZWNpb1wiXScpLnRleHQoZm9ybWF0QW1vdW50KGdsb2JhbEJvdG9uUGFnby5kZXRhbGxlUGFnby5tb250b0VudmlvKSk7XHJcbiAgICAgICAgICAkKFwiLnJlc3VtZS1zY3JlZW5cIikuZmluZCgnW2RhdGEtaWQ9XCJ0YXJqZXRhXCJdJykudGV4dChnbG9iYWxOdW1lcm9DdWVudGFDbGllbnRlQ2FkZW5hQmF6KTtcclxuICAgICAgICAgICQoXCIucmVzdW1lLXNjcmVlblwiKS5maW5kKCdbZGF0YS1pZD1cIm5vbWJyZVwiXScpLnRleHQoZ2xvYmFsTm9tYnJlUGVsaWN1bGEpO1xyXG4gICAgICAgICAgJChcIi5yZXN1bWUtc2NyZWVuXCIpLmZpbmQoJ1tkYXRhLWlkPVwicHJlY2lvXCJdJykudGV4dChmb3JtYXRBbW91bnQoZ2xvYmFsQm90b25QYWdvLmRldGFsbGVQYWdvLm1vbnRvRW52aW8pKTtcclxuICAgICAgICAgICQoXCIucmVzdW1lLXNjcmVlblwiKS5maW5kKCdbZGF0YS1pZD1cImZvbGlvXCJdJykudGV4dChmb2xpbyk7XHJcblxyXG4gICAgICAgICAgY2hhbmdlU2NyZWVuKCQoXCIucmVzdW1lLXNjcmVlblwiKSk7XHJcbiAgICAgICAgICBzaG93TG9hZGVyKGZhbHNlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3dFcnJvclNjcmVlblxyXG4gICAgICApO1xyXG4gICAgfSxcclxuICAgIHNob3dFcnJvclNjcmVlblxyXG4gICk7XHJcbn0pO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBBdXRoIFNjcmVlbiBjb21wb25lbnRzLlxyXG5jb25zdCAkZGlnaXRzID0gJChcIi5hdXRoLXNjcmVlbiAuZGlnaXQgaW5wdXRcIik7XHJcblxyXG4kZGlnaXRzLm9uKFwia2V5cHJlc3Mga2V5ZG93biBrZXl1cCBpbnB1dCBjaGFuZ2UgcGFzdGVcIiwgbnVtYmVyRmlsdGVyKTtcclxuJGRpZ2l0cy5vbihcImtleXVwXCIsIGhhbmRsZURpZ2l0S2V5dXApO1xyXG5cclxuJGRpZ2l0cy5lcSgwKS5mb2N1cygpO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBzaGFyZSBidXR0b24uXHJcbiQoXCIuc2hhcmUtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIGNvbnNvbGUubG9nKFwic2NyaXB0cy5qczogU2hhcmluZyB0aWNrZXRcIik7XHJcbn0pO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBtb3ZpZSBidXR0b24uXHJcbiQoXCIubW92aWUtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIGNvbnNvbGUubG9nKFwic2NyaXB0cy5qczogR28gdG8gbW92aWUgYnV0dG9uIGNsaWNrLlwiKTtcclxuXHJcbiAgJChcIi5zdWNjZXNzLXNjcmVlblwiKS5maW5kKCdbZGF0YS1pZD1cIm5vbWJyZVwiXScpLnRleHQoZ2xvYmFsTm9tYnJlUGVsaWN1bGEpO1xyXG4gICQoXCIuc3VjY2Vzcy1zY3JlZW5cIikuZmluZChcIi5zZWUtbW92aWUtaHJlZlwiKS5hdHRyKFwiaHJlZlwiLCBgaW50ZW50Oi8vP3ZlclBlbGljdWxhP2RhdGE9JHtidG9hKGdsb2JhbElkUGVsaWN1bGEpfSNJbnRlbnQ7c2NoZW1lPXNhcHBkbDthY3Rpb249YW5kcm9pZC5pbnRlbnQuYWN0aW9uLlZJRVc7Uy5icm93c2VyX2ZhbGxiYWNrX3VybD1odHRwcyUzQSUyRiUyRnBsYXkuZ29vZ2xlLmNvbS9zdG9yZS9hcHBzL2RldGFpbHM/aWQ9bXguYXBwLmJhei5zdXBlcmFwcDtlbmRgKTtcclxuXHJcbiAgLy8gV2FpdCBmb3IgaW1hZ2UgaXMgYWxyZWFkeSBsb2FkZWQuXHJcbiAgaWYgKGdsb2JhbEltYWdlblBlbGljdWxhKSB7XHJcbiAgICAkKGA8aW1nIHNyYz1cIiR7Z2xvYmFsSW1hZ2VuUGVsaWN1bGF9XCI+YCkub24oXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgJChcIi5zdWNjZXNzLXNjcmVlblwiKS5maW5kKCdbZGF0YS1pZD1cImltYWdlblwiXScpLmF0dHIoXCJzdHlsZVwiLCBgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7Z2xvYmFsSW1hZ2VuUGVsaWN1bGF9KWApLmFkZENsYXNzKFwiZGlzcGxheWVkXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VTY3JlZW4oJChcIi5zdWNjZXNzLXNjcmVlblwiKSk7XHJcbn0pO1xyXG4iXX0=
